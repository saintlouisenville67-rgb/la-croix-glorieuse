<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Dévotion Miséricorde Divine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    <style>
        :root { --m-red: #b91c1c; --m-gold: #b45309; }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f1f5f9; margin: 0; padding: 0;
            height: 100dvh; display: flex; flex-direction: column; overflow: hidden;
            color: #1e293b;
        }

        /* BARRE DE NAVIGATION ÉLÉGANTE (TOP) */
        .nav-header { 
            position: fixed; top: 0; left: 0; right: 0;
            height: 90px; 
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            display: flex; justify-content: space-around; align-items: flex-end;
            z-index: 10000; 
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
            padding-bottom: 8px;
            padding-top: env(safe-area-inset-top);
        }

        .nav-btn { 
            position: relative;
            flex: 1; display: flex; flex-direction: column; align-items: center; 
            border: none; background: none; color: #94a3b8; 
            cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-btn.active { color: var(--m-red); transform: translateY(-2px); }
        
        /* Indicateur visuel élégant sous l'onglet actif */
        .nav-btn.active::after {
            content: '';
            position: absolute; bottom: -8px; width: 20px; height: 3px;
            background: var(--m-red); border-radius: 10px;
        }

        .nav-btn svg { width: 24px; height: 24px; margin-bottom: 5px; stroke-width: 2; }
        .nav-label { font-size: 10px; font-weight: 800; uppercase; letter-spacing: 0.05em; }

        /* CONTENEUR PRINCIPAL */
        .app-viewport { 
            flex: 1; 
            display: flex; 
            flex-direction: column; 
            margin-top: 100px; /* Espace pour la nav-bar + marge */
            overflow: hidden; 
        }

        .card-main { 
            background: white; 
            margin: 0 16px 16px 16px; 
            border-radius: 32px; 
            flex: 1; 
            display: flex; 
            flex-direction: column; 
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.05), 0 8px 10px -6px rgba(0,0,0,0.05);
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.7);
        }

        /* CONTENU DES ONGLETS */
        .tab-content { display: none; height: 100%; flex-direction: column; padding: 24px; }
        .tab-content.active { display: flex; }
        .scroll-area { flex: 1; overflow-y: auto; padding-right: 4px; }

        /* STYLISATION DES TEXTES */
        .jesus-box { 
            border-left: 4px solid var(--m-red); 
            padding: 18px; margin: 20px 0; 
            background: #fff1f2; font-style: italic; color: #991b1b; 
            border-radius: 4px 16px 16px 4px; font-size: 1rem; line-height: 1.6;
        }
        .poem { 
            text-align: center; color: #475569; font-style: italic; 
            margin: 30px 0; font-size: 0.95em; line-height: 1.7; 
            border-top: 1px solid #f1f5f9; border-bottom: 1px solid #f1f5f9; padding: 20px 0; 
        }
        .p-eternelle { font-weight: 800; margin-top: 24px; display: block; color: #0f172a; text-transform: uppercase; font-size: 0.8em; letter-spacing: 1px; }

        /* NAVIGATION DE LA NEUVAINE */
        .day-nav { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 15px; margin-bottom: 10px; scrollbar-width: none; }
        .day-nav::-webkit-scrollbar { display: none; }
        .day-btn { 
            padding: 10px 20px; border-radius: 14px; border: 1.5px solid #e2e8f0; 
            font-size: 12px; font-weight: 700; white-space: nowrap; background: white; 
            transition: 0.2s; color: #64748b;
        }
        .day-btn.active { background: var(--m-red); color: white; border-color: var(--m-red); box-shadow: 0 4px 12px rgba(185, 28, 28, 0.2); }

        /* INTERFACE CHAPELET */
        .bead-btn { 
            width: 80px; height: 80px; border-radius: 50%; 
            background: white; border: 1px solid #f1f5f9; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.08); 
            display: flex; align-items: center; justify-content: center; 
            margin: 20px auto; transition: transform 0.1s;
        }
        .bead-btn:active { transform: scale(0.92); }
        .dot { width: 10px; height: 10px; border-radius: 50%; background: #e2e8f0; margin: 0 4px; transition: 0.4s; }
        .dot.active { background: var(--m-red); transform: scale(1.4); box-shadow: 0 0 10px rgba(185, 28, 28, 0.3); }

        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <nav class="nav-header">
        <button onclick="switchTab('chapelet')" id="nav-chapelet" class="nav-btn active">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707M12 7a5 5 0 100 10 5 5 0 000-10z"/></svg>
            <span class="nav-label">Chapelet</span>
        </button>
        <button onclick="switchTab('neuvaine')" id="nav-neuvaine" class="nav-btn">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
            <span class="nav-label">Neuvaine</span>
        </button>
        <button onclick="switchTab('heure')" id="nav-heure" class="nav-btn">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            <span class="nav-label">15h00</span>
        </button>
    </nav>

    <div class="app-viewport">
        <div class="card-main">
            
            <div id="tab-chapelet" class="tab-content active">
                <span id="step-title" class="text-[10px] font-black uppercase tracking-[0.4em] text-red-700 text-center mb-6">Introduction</span>
                <div class="flex-1 flex items-center justify-center overflow-hidden">
                    <p id="prayer-content" class="text-xl md:text-2xl italic font-serif leading-relaxed text-center px-2 text-slate-800 transition-all duration-500"></p>
                </div>
                <div class="mt-auto">
                    <div id="progress-container" class="flex justify-center mb-6 hidden"></div>
                    <p id="counter-text" class="text-[10px] font-bold text-slate-400 uppercase text-center mb-2 tracking-widest"></p>
                    <div class="flex items-center justify-center gap-14 pb-4">
                        <button onclick="prevStep()" id="prev-btn" class="text-slate-300 hover:text-slate-500 transition-colors">
                            <svg width="32" height="32" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="2.5" d="M15 19l-7-7 7-7"/></svg>
                        </button>
                        <button onclick="nextStep()" class="bead-btn">
                            <svg class="w-10 h-10 text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="2" d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                        </button>
                        <div class="w-[32px]"></div>
                    </div>
                </div>
            </div>

            <div id="tab-neuvaine" class="tab-content">
                <div class="day-nav">
                    <script>
                        for(let i=1; i<=9; i++) document.write(`<button onclick="showNeuvaine(${i})" id="nday-${i}" class="day-btn ${i===1?'active':''}">Jour ${i}</button>`);
                    </script>
                </div>
                <div class="scroll-area" id="neu-area">
                    <h3 id="neu-title" class="font-black text-red-800 uppercase text-[11px] mb-4 tracking-[0.2em]"></h3>
                    <div id="neu-body" class="text-[16px] leading-relaxed font-serif text-slate-700 space-y-4"></div>
                </div>
            </div>

            <div id="tab-heure" class="tab-content">
                <span class="text-[10px] font-black uppercase tracking-[0.3em] text-red-700 text-center mb-10">L'Heure Sainte</span>
                <div class="flex-1 flex flex-col justify-center space-y-10 text-center">
                    <div class="p-8 bg-orange-50/50 rounded-3xl border-l-4 border-amber-600 italic text-sm text-slate-600 leading-relaxed shadow-sm">
                        "À trois heures, implore Ma miséricorde, tout particulièrement pour les pécheurs..."
                    </div>
                    <p class="text-3xl font-serif font-bold text-red-900 leading-snug px-2">« Ô Sang et Eau, qui avez jailli du Cœur de Jésus comme source de Miséricorde pour nous, j'ai confiance en Vous. »</p>
                    <p class="text-[11px] font-bold text-slate-400 uppercase tracking-widest mt-4">Prière enseignée par Jésus à Sœur Faustine</p>
                </div>
            </div>

        </div>
    </div>

    <script>
        const texts = {
            1: `<div class='jesus-box'>« Aujourd’hui, amène-Moi l’humanité entière, particulièrement les pécheurs... »</div><p>Très miséricordieux Jésus, dont le propre est d’avoir pitié de nous et de nous pardonner...</p><div class='poem'>Ô Toute-puissante Miséricorde de Dieu,<br>Secours du pécheur...</div><p><span class='p-eternelle'>Père Éternel</span>, jetez un regard de Miséricorde sur toute l’humanité...</p>`,
            2: `<div class='jesus-box'>« Aujourd’hui amène-Moi les âmes sacerdotales et religieuses... »</div><p>Très miséricordieux Jésus, de qui provient tout ce qui est bon...</p><div class='poem'>Jaillie de la mer de Miséricorde,<br>La fontaine de l’Amour divin...</div><p><span class='p-eternelle'>Père Éternel</span>, jetez un regard sur ce groupe d’élus...</p>`,
            3: `<div class='jesus-box'>« Aujourd’hui, amène-moi toutes les âmes pieuses et fidèles... »</div><p>Très miséricordieux Jésus qui accordez surabondamment le trésor...</p><p><span class='p-eternelle'>Père Éternel</span>, jetez un regard de Miséricorde sur les âmes fidèles...</p>`,
            4: `<div class='jesus-box'>« Aujourd’hui, amène-moi les païens et ceux qui ne Me connaissent pas encore... »</div><p>Très compatissant Jésus qui êtes la lumière du monde...</p>`,
            5: `<div class='jesus-box'>« Aujourd’hui, amène-Moi les âmes des hérétiques et des apostats... »</div><p>Très Miséricordieux Jésus qui êtes la bonté même...</p>`,
            6: `<div class='jesus-box'>« Aujourd’hui, amène-Moi les âmes douces et humbles... »</div><p>Très miséricordieux Jésus qui avez dit Vous-même : « Apprenez de Moi... »</p>`,
            7: `<div class='jesus-box'>« Aujourd’hui, amène-Moi les âmes qui vénèrent et glorifient particulièrement ma Miséricorde... »</div><p>Très miséricordieux Jésus dont le Cœur n’est qu’amour...</p>`,
            8: `<div class='jesus-box'>« Aujourd’hui, amène-Moi les âmes qui sont au Purgatoire... »</div><p>Très miséricordieux Jésus qui avez dit vouloir Vous-même la Miséricorde...</p>`,
            9: `<div class='jesus-box'>« Aujourd’hui, amène-Moi les âmes indifférentes et froides... »</div><p>Très Compatissant Jésus qui n’êtes que pitié...</p>`
        };

        function switchTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById('tab-' + id).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('nav-' + id).classList.add('active');
        }

        let sIdx = 0, bIdx = 0, dIdx = 1;
        const chap = [
            { t: "Signe de Croix", p: "Au nom du Père, et du Fils, et du Saint-Esprit. Amen." },
            { t: "Ouverture", p: "Notre Père... Je vous salue Marie... Je crois en Dieu..." },
            { t: "Sur le gros grain", p: "Père Éternel, je Vous offre le Corps et le Sang, l'Âme et la Divinité de Votre Fils Bien-Aimé, Notre Seigneur Jésus-Christ, en réparation de nos péchés et de ceux du monde entier." },
            { t: "Sur les petits grains", p: "Par Sa douloureuse Passion, ayez pitié de nous et du monde entier." },
            { t: "Action de grâce", p: "Dieu Saint, Dieu Fort, Dieu Éternel, ayez pitié de nous et du monde entier. (3 fois)" },
            { t: "Invocation", p: "Jésus Miséricordieux, j'ai confiance en Vous !" }
        ];

        function upC() {
            const p = document.getElementById('prayer-content');
            p.classList.remove('fade-in'); void p.offsetWidth; p.classList.add('fade-in');
            p.innerText = chap[sIdx].p;
            document.getElementById('step-title').innerText = chap[sIdx].t;
            const prog = document.getElementById('progress-container');
            if(sIdx === 3) {
                prog.classList.remove('hidden');
                document.getElementById('counter-text').innerText = `Dizaine ${dIdx} • Grain ${bIdx+1} / 10`;
                prog.innerHTML = "";
                for(let i=0;i<10;i++){
                    const d = document.createElement('div');
                    d.className = `dot ${i<=bIdx?'active':''}`;
                    prog.appendChild(d);
                }
            } else { prog.classList.add('hidden'); document.getElementById('counter-text').innerText = ""; }
            document.getElementById('prev-btn').style.opacity = sIdx === 0 ? "0" : "1";
        }

        function nextStep() {
            if (sIdx === 3) {
                if (bIdx < 9) bIdx++;
                else { bIdx = 0; if (dIdx < 5) { dIdx++; sIdx = 2; } else sIdx = 4; }
            } else if (sIdx < 5) sIdx++;
            upC();
        }

        function prevStep() {
            if (sIdx === 3 && bIdx > 0) bIdx--;
            else if (sIdx === 3 && bIdx === 0) sIdx = 2;
            else if (sIdx === 2 && dIdx > 1) { dIdx--; sIdx = 3; bIdx = 9; }
            else if (sIdx > 0) sIdx--;
            upC();
        }

        function showNeuvaine(d) {
            document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('nday-'+d).classList.add('active');
            document.getElementById('neu-title').innerText = "Méditation du Jour " + d;
            const body = document.getElementById('neu-body');
            body.classList.remove('fade-in'); void body.offsetWidth; body.classList.add('fade-in');
            body.innerHTML = texts[d];
            document.getElementById('neu-area').scrollTop = 0;
        }

        upC();
        showNeuvaine(1);
    </script>
</body>
</html>
